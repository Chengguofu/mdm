<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ä¸»æ•°æ®æœåŠ¡è®¢é˜…</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #f4f7fa;
            padding: 2rem;
            font-size: 15px;
        }
        .nav-tabs .nav-link {
            border-top-left-radius: .5rem;
            border-top-right-radius: .5rem;
            font-weight: 500;
            font-size: 15px;
        }
        .tab-content {
            border: 1px solid #dee2e6;
            border-top: 0;
            padding: 1.5rem;
            background-color: #fff;
            border-bottom-left-radius: .5rem;
            border-bottom-right-radius: .5rem;
            font-size: 14px;
        }
        .config-table-in-tab td {
            padding: 0.8rem 1rem;
            vertical-align: middle;
            font-size: 14px;
        }
        .config-table-in-tab td:first-child {
            width: 25%;
            font-weight: 500;
            background-color: #f8f9fa;
            font-size: 14px;
        }
        .form-control, .form-select {
            font-size: 14px;
        }
        h3, .h3 {
            font-size: 23px;
        }
        .btn, .btn-sm, .btn-primary, .btn-success {
            font-size: 13px;
        }
    </style>
</head>
<body>

<div class="container-fluid">
    <h3 class="mb-4">ä¸»æ•°æ®æŸ¥è¯¢æœåŠ¡é…ç½®</h3>

    <!-- Tab navigation -->
    <ul class="nav nav-tabs" id="configTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="basic-config-tab" data-bs-toggle="tab" data-bs-target="#basic-config" type="button" role="tab" aria-controls="basic-config" aria-selected="true">åŸºæœ¬é…ç½®</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="api-auth-tab" data-bs-toggle="tab" data-bs-target="#api-auth" type="button" role="tab" aria-controls="api-auth" aria-selected="false">æ¥å£æˆæƒ</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="query-condition-config-tab" data-bs-toggle="tab" data-bs-target="#query-condition-config" type="button" role="tab" aria-controls="query-condition-config" aria-selected="false">æŸ¥è¯¢æ¡ä»¶é…ç½®</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="field-config-tab" data-bs-toggle="tab" data-bs-target="#field-config" type="button" role="tab" aria-controls="field-config" aria-selected="false">æŸ¥è¯¢ç»“æœé…ç½®</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="data-scope-tab" data-bs-toggle="tab" data-bs-target="#data-scope" type="button" role="tab" aria-controls="data-scope" aria-selected="false">æ•°æ®èŒƒå›´é…ç½®</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="format-preview-tab" data-bs-toggle="tab" data-bs-target="#format-preview" type="button" role="tab" aria-controls="format-preview" aria-selected="false">æœåŠ¡æ¥å£é¢„è§ˆ</button>
        </li>
    </ul>

    <!-- Tab content -->
    <div class="tab-content" id="configTabContent">
        <!-- åŸºæœ¬é…ç½® Tab -->
        <div class="tab-pane fade show active" id="basic-config" role="tabpanel" aria-labelledby="basic-config-tab">
            <table class="table table-bordered m-0 config-table-in-tab">
                <tbody>
                    <tr>
                        <td>ä¸»æ•°æ®æ¨¡å‹</td>
                        <td><select class="form-select"><option>å®¢æˆ·ä¸»æ•°æ®</option><option>ä¾›åº”å•†ä¸»æ•°æ®</option><option>äº§å“ä¸»æ•°æ®</option><option>å‘˜å·¥ä¸»æ•°æ®</option><option>ç»„ç»‡ä¸»æ•°æ®</option></select></td>
                        <td>ä¸šåŠ¡ç³»ç»Ÿ</td>
                        <td><select class="form-select"><option>OAç³»ç»Ÿ</option><option>ERPç³»ç»Ÿ</option><option>CRMç³»ç»Ÿ</option></select></td>
                    </tr>
                    <tr>
                        <td>æ¥å£æœåŠ¡ç¼–ç </td>
                        <td><input type="text" class="form-control" value="API_00123"></td>
                        <td>æ¥å£æœåŠ¡åç§°</td>
                        <td><input type="text" class="form-control" value="å®¢æˆ·ä¸»æ•°æ®æ¥æ”¶æ¥å£"></td>
                    </tr>
                    <tr>
                        <td>æ¥å£ç±»å‹</td>
                        <td colspan="3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="apiType" id="json" checked>
                                <label class="form-check-label" for="json">JSON</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="apiType" id="xml">
                                <label class="form-check-label" for="xml">XML</label>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- æ¥å£æˆæƒ Tab -->
        <div class="tab-pane fade" id="api-auth" role="tabpanel" aria-labelledby="api-auth-tab">
            <table class="table table-bordered m-0 config-table-in-tab">
                <tbody>
                    <tr>
                        <td>APIç”¨æˆ·</td>
                        <td><input type="text" class="form-control" value="api_user"></td>
                    </tr>
                    <tr>
                        <td>APIå¯†é’¥</td>
                        <td><input type="password" class="form-control" value="************"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- æŸ¥è¯¢æ¡ä»¶é…ç½® Tab -->
        <div class="tab-pane fade" id="query-condition-config" role="tabpanel" aria-labelledby="query-condition-config-tab">
             <table class="table table-bordered m-0 config-table-in-tab">
                <tbody>
                    <tr>
                        <td>æ¨¡å‹æ‰€æœ‰å±æ€§</td>
                        <td>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" value="" id="childTableSelectableQuery" checked>
                                <label class="form-check-label" for="childTableSelectableQuery">
                                    åŒ…å«å­è¡¨
                                </label>
                            </div>
                        </td>
                    </tr>
                     <tr>
                        <td colspan="2" class="p-0">
                            <table class="table table-hover table-sm mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>å­—æ®µå</th>
                                        <th>ä¸­æ–‡å</th>
                                        <th>ç±»å‹</th>
                                        <th>æ˜¯å¦é€‰æ‹©</th>
                                        <th>å­—æ®µæ˜ å°„åç§°</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>CUST_ID</td>
                                        <td>å®¢æˆ·ç¼–ç </td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" checked onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="customerId"></td>
                                    </tr>
                                    <tr>
                                        <td>CUST_NAME</td>
                                        <td>å®¢æˆ·åç§°</td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" checked onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="customerName"></td>
                                    </tr>
                                    <tr>
                                        <td>ADDRESS</td>
                                        <td>åœ°å€</td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" checked onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="address"></td>
                                    </tr>
                                    <tr>
                                        <td>CONTACT</td>
                                        <td>è”ç³»äºº</td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="contact"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- æŸ¥è¯¢ç»“æœé…ç½® Tab -->
        <div class="tab-pane fade" id="field-config" role="tabpanel" aria-labelledby="field-config-tab">
             <table class="table table-bordered m-0 config-table-in-tab">
                <tbody>
                    <tr>
                        <td>æ¨¡å‹æ‰€æœ‰å±æ€§</td>
                        <td>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" value="" id="childTableSelectable" checked>
                                <label class="form-check-label" for="childTableSelectable">
                                    åŒ…å«å­è¡¨
                                </label>
                            </div>
                        </td>
                    </tr>
                     <tr>
                        <td colspan="2" class="p-0">
                            <table class="table table-hover table-sm mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>å­—æ®µå</th>
                                        <th>ä¸­æ–‡å</th>
                                        <th>ç±»å‹</th>
                                        <th>æ˜¯å¦é€‰æ‹©</th>
                                        <th>å­—æ®µæ˜ å°„åç§°</th>
                                        <th>è½¬æ¢è¡¨è¾¾å¼</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>CUST_ID</td>
                                        <td>å®¢æˆ·ç¼–ç </td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" checked onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="customerId"></td>
                                        <td>
                                          <div class="expr-input-wrap" style="position:relative;display:block;">
                                            <input type="text" class="form-control form-control-sm" placeholder="è¯·è¾“å…¥è½¬æ¢è¡¨è¾¾å¼" style="width:100%;padding-right:30px;">
                                            <span class="expr-query-btn" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:16px;color:#2176c7;z-index:2;" title="è¡¨è¾¾å¼ç¼–è¾‘" onclick="window.open('expression.html','_blank','width=700,height=500')">ğŸ”</span>
                                          </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>CUST_NAME</td>
                                        <td>å®¢æˆ·åç§°</td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" checked onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="customerName"></td>
                                        <td>
                                          <div class="expr-input-wrap" style="position:relative;display:block;">
                                            <input type="text" class="form-control form-control-sm" placeholder="è¯·è¾“å…¥è½¬æ¢è¡¨è¾¾å¼" style="width:100%;padding-right:30px;">
                                            <span class="expr-query-btn" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:16px;color:#2176c7;z-index:2;" title="è¡¨è¾¾å¼ç¼–è¾‘" onclick="window.open('expression.html','_blank','width=700,height=500')">ğŸ”</span>
                                          </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>ADDRESS</td>
                                        <td>åœ°å€</td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" checked onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="address"></td>
                                        <td>
                                          <div class="expr-input-wrap" style="position:relative;display:block;">
                                            <input type="text" class="form-control form-control-sm" placeholder="è¯·è¾“å…¥è½¬æ¢è¡¨è¾¾å¼" style="width:100%;padding-right:30px;">
                                            <span class="expr-query-btn" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:16px;color:#2176c7;z-index:2;" title="è¡¨è¾¾å¼ç¼–è¾‘" onclick="window.open('expression.html','_blank','width=700,height=500')">ğŸ”</span>
                                          </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>CONTACT</td>
                                        <td>è”ç³»äºº</td>
                                        <td>String</td>
                                        <td><input type="checkbox" class="form-check-input" onchange="toggleMappingEditable(this)"></td>
                                        <td><input type="text" class="form-control form-control-sm mapping-input" value="contact"></td>
                                        <td>
                                          <div class="expr-input-wrap" style="position:relative;display:block;">
                                            <input type="text" class="form-control form-control-sm" placeholder="è¯·è¾“å…¥è½¬æ¢è¡¨è¾¾å¼" style="width:100%;padding-right:30px;">
                                            <span class="expr-query-btn" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:16px;color:#2176c7;z-index:2;" title="è¡¨è¾¾å¼ç¼–è¾‘" onclick="window.open('expression.html','_blank','width=700,height=500')">ğŸ”</span>
                                          </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- æ•°æ®èŒƒå›´é…ç½® Tab -->
        <div class="tab-pane fade" id="data-scope" role="tabpanel" aria-labelledby="data-scope-tab">
            <iframe src="condition.html" style="width:100%;min-height:600px;border:none;border-radius:8px;"></iframe>
        </div>

        <!-- æœåŠ¡æ¥å£é¢„è§ˆ Tab -->
        <div class="tab-pane fade" id="format-preview" role="tabpanel" aria-labelledby="format-preview-tab">
            <table class="table table-bordered m-0 config-table-in-tab">
                 <tbody>
                    <tr>
                        <td>æŸ¥è¯¢æœåŠ¡æ ¼å¼</td>
                        <td>
<pre class="bg-light p-3 rounded"><code>{
  "dataType": "å®¢æˆ·ä¸»æ•°æ®",
  "operation": "QUERY",
  "timestamp": "2024-01-15T10:30:00Z",
  "query": {
    "customerId": "CUST001",
    "customerName": "å¼ ä¸‰"
  }
}</code></pre>
                        </td>
                    </tr>
                     <tr>
                        <td>è¿”å›æ•°æ®æ ¼å¼</td>
                        <td>
<pre class="bg-light p-3 rounded"><code>{
  "data": [
    {
      "customerId": "CUST001",
      "customerName": "å¼ ä¸‰",
      "contactPhone": "13800138000",
      "email": "zhangsan@example.com",
      "orders": [
        {
          "orderId": "ORD1001",
          "orderDate": "2024-01-10",
          "amount": 1200.5
        },
        {
          "orderId": "ORD1002",
          "orderDate": "2024-01-12",
          "amount": 800.0
        }
      ]
    },
    {
      "customerId": "CUST002",
      "customerName": "æå››",
      "contactPhone": "13900139000",
      "email": "lisi@example.com",
      "orders": [
        {
          "orderId": "ORD1003",
          "orderDate": "2024-01-15",
          "amount": 500.0
        }
      ]
    }
  ]
}</code></pre>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div style="position:fixed;left:0;right:0;bottom:0;z-index:9999;background:#fff;border-top:1px solid #e9ecef;padding:8px 24px;display:flex;justify-content:flex-end;gap:16px;">
        <button class="btn btn-primary btn-sm">ä¿å­˜</button>
        <button class="btn btn-success btn-sm">å¯ç”¨</button>
    </div>

</div>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script>
    // åˆå§‹åŒ–æ‰€æœ‰å·¥å…·æç¤º
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });

    function toggleMappingEditable(checkbox) {
        var row = checkbox.closest('tr');
        var mappingInput = row.querySelector('.mapping-input');
        var editableCheckbox = row.querySelector('.editable-checkbox');
        if (checkbox.checked) {
            mappingInput.removeAttribute('readonly');
            mappingInput.classList.remove('bg-light');
            editableCheckbox.removeAttribute('disabled');
            editableCheckbox.classList.remove('bg-light');
        } else {
            mappingInput.setAttribute('readonly', 'readonly');
            mappingInput.classList.add('bg-light');
            editableCheckbox.setAttribute('disabled', 'disabled');
            editableCheckbox.classList.add('bg-light');
        }
    }
    document.querySelectorAll('.form-check-input[type=checkbox]').forEach(function(cb){
        if(cb.onchange) cb.onchange(cb);
    });
</script>
</body>
</html> 